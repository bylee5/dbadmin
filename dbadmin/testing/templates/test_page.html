<!DOCTYPE html>
{% extends 'base-testing.html' %}
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    {% block content %}

	<span style="font-size: 12px;" type="button" class="badge badge-danger" data-toggle="collapse" data-target="#collapseInsert" aria-controls="collapseInsert">입력</span>
	<!-- 입력란 -->
	<div class="1collapse small" id="1collapseInsert" style="1font-size: 12px;">
		<div class="card card-body mt-2 bg-light callout callout-danger">
			<h6>입력란
				<span style="font-size: 12px;" type="button" class="badge badge-success" data-toggle="collapse" data-target="#collapseInsert" aria-controls="collapseInsert">저장</span>
				<span style="font-size: 12px;" type="button" class="badge badge-warning" data-toggle="collapse" data-target="#collapseInsert" aria-controls="collapseInsert">지우기</span>
				<span style="font-size: 12px;" type="button" class="badge badge-primary" data-toggle="collapse" data-target="#collapseInsert" aria-controls="collapseInsert">추가</span>
			</h6>
			<script type="text/javascript">
				function insertBox() {
					var retVal = confirm("입력하시겠습니까?");
					if (retVal == true ){
						var insertForm = document.insertForm;
						insertForm.action="{% url 'account_insert' %}";
						insertForm.method="post";
						insertForm.submit();
					}else{
						return;
					}
				}
				function insertBox_del() {
					document.insertForm.reset();
				}
			</script>

			<a>권한 직접입력을 할 경우에는, 반드시 ,를 잘 사용해주세요.
				(예시 : select, insert, update, execute)</a>
			<a class="mb-2">허용 호스트 입력 시, ','를 기재하면 여러대역대 계정을 생성 할 수 있습니다.
				(예시 : 10.11.11.%, 10.11.12.%, 10.11.13.%)</a>

			<table class="table table-sm text-center" style="table-layout: fixed">
				<form class="form-inline" action="" method="" name="insertForm">
				{% csrf_token %}
				<tr class="">
					<td style="width: 5%" class="bg-dark text-white align-middle">요청자명</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_requestor" name="account_requestor" value="{{ i_account_requestor }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">요청팀</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_devteam" name="account_devteam" value="{{ i_account_devteam }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">서버</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_svr" name="account_svr" value="{{ i_account_svr }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">아이디</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_user" name="account_user" value="{{ i_account_user }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">허용 호스트</td>
					<td colspan="2" style="width: 18%"><input class="form-control form-control-sm" id="account_host" name="account_host" value="{{ i_account_host }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">패스워드</td>
					<td style="width: 8%"><input class="form-control form-control-sm" id="account_pass" name="account_pass" value="{{ i_account_pass }}" type="text"></td>
				</tr>
				<tr class="">
					<td class="bg-dark text-white align-middle">INFO</td>
					<td><input class="form-control form-control-sm" id="account_info" name="account_info" value="{{ i_account_info }}" type="text"></td>
					<td class="bg-dark text-white align-middle">URL</td>
					<td><input class="form-control form-control-sm" id="account_url" name="account_url" value="{{ i_account_url }}" type="text"></td>
					<td class="bg-dark text-white align-middle">DB</td>
					<td><input class="form-control form-control-sm" id="account_db" name="account_db" value="{{ i_account_db }}" type="text"></td>
					<td class="bg-dark text-white align-middle">TABLE</td>
					<td><input class="form-control form-control-sm" id="account_table" name="account_table" value="{{ i_account_table }}" type="text"></td>
					<td class="bg-dark text-white align-middle">권한</td>
					<td colspan="4">
						<div class="input-group input-group-sm">
                            <!--
                            {{ i_account_grant }}
                            -->
							<select class="custom-select" id="account_grant" name="account_grant">
								<option value="select" selected>select</option>
								<option value="select, insert, update, delete">select, insert, update, delete</option>
								<option value="select, insert, update, delete, alter, drop, create">select, insert, update, delete, alter, drop, create</option>
								<option value="">직접 입력</option>
							</select>
							<input class="form-control form-control-sm" id="account_grant_direct" name="account_grant_direct" value="{{ i_account_grant_direct }}" type="text">
						</div>

						<script type="text/javascript">
        					$('#account_grant').load('dummy',function(){
								$("#account_grant_direct").show();
								$("#account_grant_direct").hide();
        					});

							$('#account_grant').change(function(){
								$("#account_grant option:selected").each(function () {
									if($(this).val() == ''){
										$("#account_grant_direct").show();
										$("#account_grant_direct").val('');
										$("#account_grant_direct").attr("disabled",false);
										$("#account_grant").hide();
									}else{
										$("#account_grant").show();
										$("#account_grant_direct").hide();
									}
								});
							});
						</script>
					</td>
				</tr>

				<tr>
					<td colspan="2" class="text-left">


					</td>
				</tr>



				</form>
			</table>

			<table class="table table-sm text-center" style="table-layout: fixed">
				<form class="form-inline" action="" method="" name="insertForm">
				{% csrf_token %}
				<tr class="">
					<td style="width: 5%" class="bg-dark text-white align-middle">요청자명</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_requestor" name="account_requestor" value="{{ i_account_requestor }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">요청팀</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_devteam" name="account_devteam" value="{{ i_account_devteam }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">서버</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_svr" name="account_svr" value="{{ i_account_svr }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">아이디</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_user" name="account_user" value="{{ i_account_user }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">허용 호스트</td>
					<td colspan="2" style="width: 18%"><input class="form-control form-control-sm" id="account_host" name="account_host" value="{{ i_account_host }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">패스워드</td>
					<td style="width: 8%"><input class="form-control form-control-sm" id="account_pass" name="account_pass" value="{{ i_account_pass }}" type="text"></td>
				</tr>
				<tr class="">
					<td class="bg-dark text-white align-middle">INFO</td>
					<td><input class="form-control form-control-sm" id="account_info" name="account_info" value="{{ i_account_info }}" type="text"></td>
					<td class="bg-dark text-white align-middle">URL</td>
					<td><input class="form-control form-control-sm" id="account_url" name="account_url" value="{{ i_account_url }}" type="text"></td>
					<td class="bg-dark text-white align-middle">DB</td>
					<td><input class="form-control form-control-sm" id="account_db" name="account_db" value="{{ i_account_db }}" type="text"></td>
					<td class="bg-dark text-white align-middle">TABLE</td>
					<td><input class="form-control form-control-sm" id="account_table" name="account_table" value="{{ i_account_table }}" type="text"></td>
					<td class="bg-dark text-white align-middle">권한</td>
					<td colspan="4">
						<div class="input-group input-group-sm">
                            <!--
                            {{ i_account_grant }}
                            -->
							<select class="custom-select" id="account_grant" name="account_grant">
								<option value="select" selected>select</option>
								<option value="select, insert, update, delete">select, insert, update, delete</option>
								<option value="select, insert, update, delete, alter, drop, create">select, insert, update, delete, alter, drop, create</option>
								<option value="">직접 입력</option>
							</select>
							<input class="form-control form-control-sm" id="account_grant_direct" name="account_grant_direct" value="{{ i_account_grant_direct }}" type="text">
						</div>

						<script type="text/javascript">
        					$('#account_grant').load('dummy',function(){
								$("#account_grant_direct").show();
								$("#account_grant_direct").hide();
        					});

							$('#account_grant').change(function(){
								$("#account_grant option:selected").each(function () {
									if($(this).val() == ''){
										$("#account_grant_direct").show();
										$("#account_grant_direct").val('');
										$("#account_grant_direct").attr("disabled",false);
										$("#account_grant").hide();
									}else{
										$("#account_grant").show();
										$("#account_grant_direct").hide();
									}
								});
							});
						</script>
					</td>
				</tr>

				<tr>
					<td colspan="2" class="text-left">


					</td>
				</tr>



				</form>
			</table>

			<table class="table table-sm text-center" style="table-layout: fixed">
				<form class="form-inline" action="" method="" name="insertForm">
				{% csrf_token %}
				<tr class="">
					<td style="width: 5%" class="bg-dark text-white align-middle">요청자명</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_requestor" name="account_requestor" value="{{ i_account_requestor }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">요청팀</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_devteam" name="account_devteam" value="{{ i_account_devteam }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">서버</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_svr" name="account_svr" value="{{ i_account_svr }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">아이디</td>
					<td style="width: 9%"><input class="form-control form-control-sm" id="account_user" name="account_user" value="{{ i_account_user }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">허용 호스트</td>
					<td colspan="2" style="width: 18%"><input class="form-control form-control-sm" id="account_host" name="account_host" value="{{ i_account_host }}" type="text"></td>
					<td style="width: 5%" class="bg-dark text-white align-middle">패스워드</td>
					<td style="width: 8%"><input class="form-control form-control-sm" id="account_pass" name="account_pass" value="{{ i_account_pass }}" type="text"></td>
				</tr>
				<tr class="">
					<td class="bg-dark text-white align-middle">INFO</td>
					<td><input class="form-control form-control-sm" id="account_info" name="account_info" value="{{ i_account_info }}" type="text"></td>
					<td class="bg-dark text-white align-middle">URL</td>
					<td><input class="form-control form-control-sm" id="account_url" name="account_url" value="{{ i_account_url }}" type="text"></td>
					<td class="bg-dark text-white align-middle">DB</td>
					<td><input class="form-control form-control-sm" id="account_db" name="account_db" value="{{ i_account_db }}" type="text"></td>
					<td class="bg-dark text-white align-middle">TABLE</td>
					<td><input class="form-control form-control-sm" id="account_table" name="account_table" value="{{ i_account_table }}" type="text"></td>
					<td class="bg-dark text-white align-middle">권한</td>
					<td colspan="4">
						<div class="input-group input-group-sm">
                            <!--
                            {{ i_account_grant }}
                            -->
							<select class="custom-select" id="account_grant" name="account_grant">
								<option value="select" selected>select</option>
								<option value="select, insert, update, delete">select, insert, update, delete</option>
								<option value="select, insert, update, delete, alter, drop, create">select, insert, update, delete, alter, drop, create</option>
								<option value="">직접 입력</option>
							</select>
							<input class="form-control form-control-sm" id="account_grant_direct" name="account_grant_direct" value="{{ i_account_grant_direct }}" type="text">
						</div>

						<script type="text/javascript">
        					$('#account_grant').load('dummy',function(){
								$("#account_grant_direct").show();
								$("#account_grant_direct").hide();
        					});

							$('#account_grant').change(function(){
								$("#account_grant option:selected").each(function () {
									if($(this).val() == ''){
										$("#account_grant_direct").show();
										$("#account_grant_direct").val('');
										$("#account_grant_direct").attr("disabled",false);
										$("#account_grant").hide();
									}else{
										$("#account_grant").show();
										$("#account_grant_direct").hide();
									}
								});
							});
						</script>
					</td>
				</tr>
				<tr>
					<td colspan="2" class="text-left">
					</td>
				</tr>
				</form>
			</table>
		</div>
	</div>

    <!-- 결과란 --> <br>
    <div class="board small" style="font-size: 12px;">
        << 결과란 >>
        <table class="table table-sm table-hover">
            <tr class="bg-dark text-white">
                <th>번호</th>
                <th>코드</th>
                <th>타입</th>
                <th>질문</th>
                <th>답변</th>
            </tr>
            {% for faq in faqs %}
            <tr data-toggle="modal" data-target="#myModal"
				data-id="{{ faq.id }}"
				data-faq_id="{{ faq.faq_id }}"
				data-faq_type="{{ faq.faq_type }}"
				data-faq_question="{{ faq.faq_question }}"
				data-faq_answer="{{ faq.faq_answer }}" style = "cursor:pointer;">

				<td style = "width: 10%;">{{ faq.id }}</td>
				<td style = "width: 15%;">{{ faq.faq_id }}</td>
				<td style = "width: 15%;"> {{ faq.faq_type }}</td>
				<td style = "width: 40%;">{{ faq.faq_question }}</td>
				<td style = "width: 20%;">{{ faq.faq_answer }}</td>

            </tr>
            {% endfor %}
        </table>
    </div>

    <!-- Page Navy -->
    <span class="step-links small">
    	{% if faqs.has_previous %}
		    <a href="?page=1">&laquo; 맨 처음</a>
		    <a href="?page={{ faqs.previous_page_number }}">이전</a>
		{% endif %}

		<span class="current">
		    Page {{ faqs.number }} of {{ faqs.paginator.num_pages }}.
		</span>

		{% if faqs.has_next %}
			<a href="?page={{ faqs.next_page_number }}">다음</a>
			<a href="?page={{ faqs.paginator.num_pages }}">마지막 &raquo;</a>
		{% endif %}
	</span>

    <!-- Modal -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">

				<!-- Modal Header -->
				<div class="modal-header small">
					<!-- <h4 class="modal-title" id="myModalLabel">Modal title</h4> -->

					<!-- Nav tabs -->
					<ul class="nav nav-pills" role="tablist">
						<li>
							<a class="nav-link active btn-outline-secondary" href="#selectTab" aria-controls="selectTab" role="tab" aria-selected="true" data-toggle="tab">상세</a>
						</li>
						<li>
							<a class="nav-link btn-outline-secondary" href="#updateTab" aria-controls="updateTab" role="tab" data-toggle="tab">수정</a>
						</li>
						<li>
							<a class="nav-link btn-outline-secondary" href="#deleteTab" aria-controls="deleteTab" role="tab" data-toggle="tab">삭제</a>
						</li>
					</ul>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				</div>

				<!-- Modal Body -->
				<div class="modal-body small">
					<div role="tabpanel">

						<!-- Modal Tab panes -->
						<div class="tab-content">

                            <!-- Modal Select -->
							<div role="tabpanel" class="tab-pane active fade show" id="selectTab">

								<table class="table table-sm text-center" style="table-layout: fixed">
									<tr class="bg-dark text-white">
										<th class="">id(pk)</th>
									</tr>
									<tr>
										<td class="">
											<input class="form-control form-control-sm" id="id" name="id" type="text" readonly>
										</td>
									</tr>
								</table>
                                <table class="table table-sm text-center" style="table-layout: fixed">
									<tr class="bg-dark text-white">
										<th class="">코드</th>
									</tr>
									<tr>
										<td class="">
											<input class="form-control form-control-sm" id="faq_id" name="faq_id" type="text" readonly>
										</td>
									</tr>
                                </table>
                                <table class="table table-sm text-center" style="table-layout: fixed">
									<tr class="bg-dark text-white">
										<th class="">타입</th>
									</tr>
									<tr>
										<td class="">
											<input class="form-control form-control-sm" id="faq_type" name="faq_type" type="text" readonly>
										</td>
									</tr>
                                </table>

                                <table class="table table-sm text-center" style="table-layout: fixed">
									<tr class="bg-dark text-white">
										<th class="">질문</th>
									</tr>
									<tr>
										<td class="">
											<input class="form-control form-control-sm" id="faq_question" name="faq_question" type="text" readonly>
										</td>
									</tr>
                                </table>

                                <table class="table table-sm text-center" style="table-layout: fixed">
									<tr class="bg-dark text-white">
										<th class="">답변</th>
									</tr>
									<tr>
										<td class="">
											<input class="form-control form-control-sm" id="faq_answer" name="faq_answer" type="text" readonly>
										</td>
									</tr>
								</table>
									<p class="text-right">확인 하시겠습니까?　</p>

								<div class="modal-footer">
                                    <button type="" class="btn btn-sm btn-outline-primary" data-dismiss="modal">확인</button>
								</div>

							</div>

                            <!-- Modal Delete -->
							<div role="tabpanel" class="tab-pane fade" id="deleteTab">
                                <form class="" action="{% url 'page_delete' %}" method="post" name="deleteForm">
                                {% csrf_token %}

                                <table class="table table-sm text-center" style="table-layout: fixed">
									<tr class="bg-dark text-white">
										<th class="">id(pk)</th>
									</tr>
									<tr>
										<td class="">
											<input class="form-control form-control-sm" id="id" name="id" type="text" readonly>
										</td>
									</tr>
								</table>
								<table class="table table-sm text-center" style="table-layout: fixed">
								<tr class="bg-dark text-white">
									<th class="">코드</th>
								</tr>
								<tr>
									<td class="">
										<input class="form-control form-control-sm" id="faq_id" name="faq_id" type="text" readonly>
									</td>
								</tr>
								</table>

								<table class="table table-sm text-center" style="table-layout: fixed">
								<tr class="bg-dark text-white">
									<th class="">타입</th>
								</tr>
								<tr>
									<td class="">
										<input class="form-control form-control-sm" id="faq_type" name="faq_type" type="text" readonly>
									</td>
								</tr>
								</table>

								<table class="table table-sm text-center" style="table-layout: fixed">
								<tr class="bg-dark text-white">
									<th class="">질문</th>
								</tr>
								<tr>
									<td class="">
										<input class="form-control form-control-sm" id="faq_question" name="faq_question" type="text" readonly>
									</td>
								</tr>
								</table>

								<table class="table table-sm text-center" style="table-layout: fixed">
								<tr class="bg-dark text-white">
									<th class="">답변</th>
								</tr>
								<tr>
									<td class="">
										<input class="form-control form-control-sm" id="faq_answer" name="faq_answer" type="text" readonly>
									</td>
								</tr>
								</table>
									<p class="text-right">삭제 하시겠습니까?　</p>

								<div class="modal-footer">
                                    <button type="submit" class="btn btn-sm btn-outline-primary">확인</button>
                                    <button type="" class="btn btn-sm btn-outline-danger" data-dismiss="modal">취소</button>
								</div>
                                </form>
							</div>

                            <!-- Modal Update-->
							<div role="tabpanel" class="tab-pane fade" id="updateTab">
                                <form class="" action="{% url 'page_update' %}" method="post" name="updateForm">
                                {% csrf_token %}

								<table class="table table-sm text-center" style="table-layout: fixed">
									<tr class="bg-dark text-white">
										<th class="">id(pk)</th>
									</tr>
									<tr>
										<td class="">
											<input class="form-control form-control-sm" id="id" name="id" type="text" readonly>
										</td>
									</tr>
								</table>

                                <table class="table table-sm text-center" style="table-layout: fixed">
								<tr class="bg-dark text-white">
									<th class="">코드</th>
								</tr>
								<tr>
									<td class="">
										<input class="form-control form-control-sm" id="faq_id" name="faq_id" type="text">
									</td>
								</tr>
								</table>

								<table class="table table-sm text-center" style="table-layout: fixed">
								<tr class="bg-dark text-white">
									<th class="">타입</th>
								</tr>
								<tr>
									<td class="">
										<input class="form-control form-control-sm" id="faq_type" name="faq_type" type="text">
									</td>
								</tr>
								</table>

								<table class="table table-sm text-center" style="table-layout: fixed">
								<tr class="bg-dark text-white">
									<th class="">질문</th>
								</tr>
								<tr>
									<td class="">
										<input class="form-control form-control-sm" id="faq_question" name="faq_question" type="text">
									</td>
								</tr>
								</table>

								<table class="table table-sm text-center" style="table-layout: fixed">
								<tr class="bg-dark text-white">
									<th class="">답변</th>
								</tr>
								<tr>
									<td class="">
										<input class="form-control form-control-sm" id="faq_answer" name="faq_answer" type="text">
									</td>
								</tr>
								</table>
									<p class="text-right">수정 하시겠습니까?　</p>

								<div class="modal-footer">
                                    <button type="submit" class="btn btn-sm btn-outline-primary">확인</button>
                                    <button type="" class="btn btn-sm btn-outline-danger" data-dismiss="modal">취소</button>
								</div>
                                </form>
							</div>

						</div>
					</div>
				</div>
				<!--
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary save">Save changes</button>
				</div>
				-->
			</div>
		</div>
	</div>

	<!-- Modal window option script -->
    <script>
    $('#myModal').on('show.bs.modal', function (event) {
         var button = $(event.relatedTarget);
         var id= button.data('id');
         var faq_id = button.data('faq_id');
         var faq_type = button.data('faq_type');
         var faq_question = button.data('faq_question');
         var faq_answer = button.data('faq_answer');

         var modal = $('#selectTab')
         modal.find('#id').val(id);
         modal.find('#faq_id').val(faq_id);
         modal.find('#faq_type').val(faq_type);
         modal.find('#faq_question').val(faq_question);
         modal.find('#faq_answer').val(faq_answer);

         var modal = $('#deleteTab')
         modal.find('#id').val(id);
         modal.find('#faq_id').val(faq_id);
         modal.find('#faq_type').val(faq_type);
         modal.find('#faq_question').val(faq_question);
         modal.find('#faq_answer').val(faq_answer);

         var modal = $('#updateTab')
         modal.find('#id').val(id);
         modal.find('#faq_id').val(faq_id);
         modal.find('#faq_type').val(faq_type);
         modal.find('#faq_question').val(faq_question);
         modal.find('#faq_answer').val(faq_answer);
    })
    </script>

    {% endblock %}

</body>
</html>
